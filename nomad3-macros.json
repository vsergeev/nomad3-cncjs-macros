[
 {
  "name": "Change Tool",
  "content": "; BitSetter Change Tool Macro\n;\n; Instructions\n;   Run once prior to job start (before or after zeroing WCS Z, doesn't matter).\n;   Run on every tool change to adjust WCS Z with tool offset.\n;   Use \"BitSetter Clear Tool Reference\" macro to clear stored tool reference.\n;\n; Derived from\n;    https://github.com/cncjs/cncjs/wiki/Tool-Change\n;    https://github.com/cncjs/CNCjs-Macros/tree/master/C3D_BitSetter\n;    https://community.carbide3d.com/t/gsender-from-sienci-labs-cncjs-based-sender/35937/61\n;\n; Change Log\n;   * 11/19/2023\n;       * Initial release.\n;\n; https://github.com/vsergeev/nomad3-cncjs-macros\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Constants\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; Configured for Carbide 3D Nomad 3\n%SAFE_HEIGHT_Z = -5 ; MCS\n%TOOL_CHANGE_X = -125 ; MCS\n%TOOL_CHANGE_Y = -110 ; MCS\n%TOOL_PROBE_X = -5 ; MCS\n%TOOL_PROBE_Y = -3 ; MCS\n%TOOL_PROBE_Z = -75 ; MCS\n\n%TOOL_PROBE_DISTANCE = 20 ; mm\n%TOOL_PROBE_FAST_FEEDRATE = 100 ; mm/min\n%TOOL_PROBE_SLOW_FEEDRATE = 50 ; mm/min\n%TRAVEL_FEEDRATE = 5000 ; mm/min\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Save modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n%WCS = modal.wcs\n%PLANE = modal.plane\n%UNITS = modal.units\n%DISTANCE = modal.distance\n%FEEDRATE = modal.feedrate\n%SPINDLE = modal.spindle\n%COOLANT = modal.coolant\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Save current work position\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%X0 = posx, Y0 = posy, Z0 = posz\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Setup\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%global.state = global.state || {} ; Initialize global.state object\n\nM5 ; Stop spindle\nG21 ; Units metric\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Go to tool change location\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG90 ; Absolute positioning\nG53 G1 Z[SAFE_HEIGHT_Z] F[TRAVEL_FEEDRATE]\nG53 G1 X[TOOL_CHANGE_X] Y[TOOL_CHANGE_Y] F[TRAVEL_FEEDRATE]\n\n%wait\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Change tool\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; Pause for manual tool change\nM0\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Go to probe location\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG90 ; Absolute positioning\nG53 G1 X[TOOL_PROBE_X] Y[TOOL_PROBE_Y] F[TRAVEL_FEEDRATE]\nG53 G1 Z[TOOL_PROBE_Z] F800\n\nG4 P0.1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Probe\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG91 ; Incremental positioning\n\n; Fast probe\nG38.2 Z-[TOOL_PROBE_DISTANCE] F[TOOL_PROBE_FAST_FEEDRATE]\nG0 Z2\n\n; Slow probe\nG38.2 Z-5 F[TOOL_PROBE_SLOW_FEEDRATE]\nG4 P0.1\n\n; Compute tool offset from reference\n%TOOL_OFFSET = (mposz - global.state.TOOL_REFERENCE_Z) || 0\n(Tool Offset: [TOOL_OFFSET])\n\n; Save tool reference\n%global.state.TOOL_REFERENCE_Z = mposz\n(New Tool Reference: [global.state.TOOL_REFERENCE_Z])\n\n; Offset WCS by tool offset\nG10 L20 Z[posz - TOOL_OFFSET]\n\nG4 P0.1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Go back to saved work position at safe height\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG90 ; Absolute positioning\nG53 G1 Z[SAFE_HEIGHT_Z] F[TRAVEL_FEEDRATE]\nG1 X[X0] Y[Y0] F[TRAVEL_FEEDRATE]\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Restore modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n[WCS] [PLANE] [UNITS] [DISTANCE] [FEEDRATE] [SPINDLE] [COOLANT]"
 },
 {
  "name": "Clear Tool Reference",
  "content": "; BitSetter Clear Tool Reference Macro\n;\n; Instructions\n;   Run to clear saved tool reference.\n;\n; Change Log\n;   * 11/19/2023\n;       * Initial release.\n;\n; https://github.com/vsergeev/nomad3-cncjs-macros\n\n%global.state.TOOL_REFERENCE_Z = undefined"
 },
 {
  "name": "Probe Z",
  "content": "; BitZero V2 Probe Z Macro\n;\n; Instructions\n;   Run with tool within 20mm of top of probe surface.\n;\n; Based on\n;    https://github.com/cncjs/CNCjs-Macros/blob/master/C3D_3axis_probe\n;\n; Change Log\n;   * 11/19/2023\n;       * Initial release.\n;\n; https://github.com/vsergeev/nomad3-cncjs-macros\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Constants\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%PROBE_THICKNESS = 15.5 ; Probe overall thickness, mm\n\n%PROBE_DISTANCE = 20 ; mm\n%PROBE_FAST_FEEDRATE = 100 ; mm/min\n%PROBE_SLOW_FEEDRATE = 50 ; mm/min\n%TRAVEL_FEEDRATE = 300 ; mm/min\n%SAFE_HEIGHT = 15 ; mm\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Save modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n%WCS = modal.wcs\n%PLANE = modal.plane\n%UNITS = modal.units\n%DISTANCE = modal.distance\n%FEEDRATE = modal.feedrate\n%SPINDLE = modal.spindle\n%COOLANT = modal.coolant\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Setup\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nM5 ; Stop spindle\nG21 ; Units metric\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Probe Z\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG91 ; Incremental positioning\n\n; Probe fast\nG38.2 Z-[PROBE_DISTANCE] F[PROBE_FAST_FEEDRATE]\nG1 Z2 F[TRAVEL_FEEDRATE]\n\n; Probe slow\nG38.2 Z-5 F[PROBE_SLOW_FEEDRATE]\nG4 P0.1\n\n; Offset WCS Z by probe thickness\nG10 L20 Z[PROBE_THICKNESS]\nG4 P0.1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Retract Z\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; Retract Z\nG91 ; Incremental positioning\nG1 Z[SAFE_HEIGHT] F[TRAVEL_FEEDRATE]\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Restore modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n[WCS] [PLANE] [UNITS] [DISTANCE] [FEEDRATE] [SPINDLE] [COOLANT]"
 },
 {
  "name": "Probe XY",
  "content": "; BitZero V2 Probe XY Macro\n;\n; Instructions\n;   Run with tool located inside probing bore.\n;\n; Based on\n;   https://github.com/cncjs/CNCjs-Macros/blob/master/C3D_3axis_probe\n;\n; Change Log\n;   * 11/19/2023\n;       * Initial release.\n;\n; https://github.com/vsergeev/nomad3-cncjs-macros\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Constants\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%PROBE_BORE_DIAMETER = 15 ; Bore diameter, mm\n%PROBE_X_OFFSET = 0 ; Bore offset correction from actual X0, mm\n%PROBE_Y_OFFSET = 0 ; Bore offset correction from actual Y0, mm\n\n%PROBE_FEEDRATE = 100 ; mm/min\n%TRAVEL_FEEDRATE = 300 ; mm/min\n%SAFE_HEIGHT = 15 ; mm\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Save modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n%WCS = modal.wcs\n%PLANE = modal.plane\n%UNITS = modal.units\n%DISTANCE = modal.distance\n%FEEDRATE = modal.feedrate\n%SPINDLE = modal.spindle\n%COOLANT = modal.coolant\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Setup\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nM5 ; Stop spindle\nG21 ; Units metric\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Probe X\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG91 ; Incremental positioning\n\n; Probe left\nG38.2 X-[PROBE_BORE_DIAMETER] F[PROBE_FEEDRATE]\nG4 P0.1\n%X1 = Number(posx)\n\n; Retract X\nG1 X1 F[TRAVEL_FEEDRATE]\n\n; Probe right\nG38.2 X[PROBE_BORE_DIAMETER] F[PROBE_FEEDRATE]\nG4 P0.1\n%X2 = Number(posx)\n\n; Go to X center\nG90 ; Absolute positioning\nG1 X[(X1 + X2) / 2] F[TRAVEL_FEEDRATE]\nG4 P0.1\n\n; Set WCS X\nG10 L20 X[PROBE_X_OFFSET]\nG4 P0.1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Probe Y\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG91 ; Incremental positioning\n\n; Probe top\nG38.2 Y[PROBE_BORE_DIAMETER] F[PROBE_FEEDRATE]\nG4 P0.1\n%Y1 = Number(posy)\n\n; Retract Y\nG1 Y-1 F[TRAVEL_FEEDRATE]\n\n; Probe bottom\nG38.2 Y-[PROBE_BORE_DIAMETER] F[PROBE_FEEDRATE]\nG4 P0.1\n%Y2 = Number(posy)\n\n; Go to Y center\nG90 ; Absolute positioning\nG1 Y[(Y1 + Y2) / 2] F[TRAVEL_FEEDRATE]\nG4 P0.1\n\n; Set WCS Y\nG10 L20 Y[PROBE_Y_OFFSET]\nG4 P0.1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Go to work zero\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; Retract Z\nG91 ; Incremental positioning\nG1 Z[SAFE_HEIGHT] F[TRAVEL_FEEDRATE]\n\n; Go to work zero (no travel if probe offsets are 0)\nG90 ; Absolute positioning\nG1 X0 Y0 F[TRAVEL_FEEDRATE]\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Restore modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n[WCS] [PLANE] [UNITS] [DISTANCE] [FEEDRATE] [SPINDLE] [COOLANT]"
 },
 {
  "name": "Probe XYZ",
  "content": "; BitZero V2 Probe XYZ Macro\n;\n; Instructions\n;   Run with tool located inside probing bore.\n;\n; Based on\n;   https://github.com/cncjs/CNCjs-Macros/blob/master/C3D_3axis_probe\n;\n; Change Log\n;   * 11/19/2023\n;       * Initial release.\n;\n; https://github.com/vsergeev/nomad3-cncjs-macros\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Constants\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%PROBE_INSET_THICKNESS = 13 ; Probe inset thickness, mm\n%PROBE_BORE_DIAMETER = 15 ; Bore diameter, mm\n%PROBE_X_OFFSET = 0 ; Bore offset correction from actual X0, mm\n%PROBE_Y_OFFSET = 0 ; Bore offset correction from actual Y0, mm\n\n%PROBE_FAST_FEEDRATE = 100 ; mm/min\n%PROBE_SLOW_FEEDRATE = 50 ; mm/min\n%TRAVEL_FEEDRATE = 300 ; mm/min\n%SAFE_HEIGHT = 15 ; mm\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Save modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n%WCS = modal.wcs\n%PLANE = modal.plane\n%UNITS = modal.units\n%DISTANCE = modal.distance\n%FEEDRATE = modal.feedrate\n%SPINDLE = modal.spindle\n%COOLANT = modal.coolant\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Setup\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nM5 ; Stop spindle\nG21 ; Units metric\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Probe X\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG91 ; Incremental positioning\n\n; Probe left\nG38.2 X-[PROBE_BORE_DIAMETER] F[PROBE_FAST_FEEDRATE]\nG4 P0.1\n%X1 = Number(posx)\n\n; Retract X\nG1 X1 F[TRAVEL_FEEDRATE]\n\n; Probe right\nG38.2 X[PROBE_BORE_DIAMETER] F[PROBE_FAST_FEEDRATE]\nG4 P0.1\n%X2 = Number(posx)\n\n; Go to X center\nG90 ; Absolute positioning\nG1 X[(X1 + X2) / 2] F[TRAVEL_FEEDRATE]\nG4 P0.1\n\n; Set WCS X\nG10 L20 X[PROBE_X_OFFSET]\nG4 P0.1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Probe Y\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG91 ; Incremental positioning\n\n; Probe top\nG38.2 Y[PROBE_BORE_DIAMETER] F[PROBE_FAST_FEEDRATE]\nG4 P0.1\n%Y1 = Number(posy)\n\n; Retract Y\nG1 Y-1 F[TRAVEL_FEEDRATE]\n\n; Probe bottom\nG38.2 Y-[PROBE_BORE_DIAMETER] F[PROBE_FAST_FEEDRATE]\nG4 P0.1\n%Y2 = Number(posy)\n\n; Go to Y center\nG90 ; Absolute positioning\nG1 Y[(Y1 + Y2) / 2] F[TRAVEL_FEEDRATE]\nG4 P0.1\n\n; Set WCS Y\nG10 L20 Y[PROBE_Y_OFFSET]\nG4 P0.1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Probe Z\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG91 ; Incremental positioning\n\n; Retract Z\nG1 Z[PROBE_INSET_THICKNESS] F[TRAVEL_FEEDRATE]\n; Travel diagonally to over probe top plate\nG1 X[PROBE_BORE_DIAMETER] Y[PROBE_BORE_DIAMETER] F[TRAVEL_FEEDRATE]\n\n; Probe fast\nG38.2 Z-[PROBE_INSET_THICKNESS] F[PROBE_FAST_FEEDRATE]\nG1 Z2 F[TRAVEL_FEEDRATE]\n\n; Probe slow\nG38.2 Z-5 F[PROBE_SLOW_FEEDRATE]\nG4 P0.1\n\n; Offset WCS Z by probe thickness\nG10 L20 Z[PROBE_INSET_THICKNESS]\nG4 P0.1\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Retract Z\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; Retract Z\nG91 ; Incremental positioning\nG1 Z[SAFE_HEIGHT] F[TRAVEL_FEEDRATE]\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Restore modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n[WCS] [PLANE] [UNITS] [DISTANCE] [FEEDRATE] [SPINDLE] [COOLANT]"
 },
 {
  "name": "Go to X0Y0 Z5",
  "content": "; Go to X0Y0 Z5 Macro\n\n%SAFE_HEIGHT = -5 ; MCS\n%TRAVEL_FEEDRATE = 5000 ; mm/min\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Save modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n%UNITS = modal.units\n%DISTANCE = modal.distance\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Setup\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG21 ; Units metric\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Travel\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\nG90 ; Absolute positioning\n\n; Retract Z to safe height\nG53 G1 Z[SAFE_HEIGHT] F[TRAVEL_FEEDRATE]\n; Go to work zero\nG1 X0 Y0 F[TRAVEL_FEEDRATE]\n; Go to Z+5\nG1 Z5 F[TRAVEL_FEEDRATE]\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n; Restore modal state\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n%wait\n\n[UNITS] [DISTANCE]"
 }
]
